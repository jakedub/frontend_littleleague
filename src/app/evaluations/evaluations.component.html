<div *ngFor="let division of divisions">
  <h3>{{ division }}</h3>

  <!-- Add a fallback to see if players are being looped through -->
  <div *ngIf="playersByDivision[division] && playersByDivision[division].length > 0">
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Hitting Power</th>
          <th>Hitting Contact</th>
          <th>Fielding Form</th>
          <th>Fielding Glove</th>
          <th>Fielding Hustle</th>
          <th>Throwing Form</th>
          <th>Throwing Accuracy</th>
          <th>Throwing Speed</th>
          <th>Pitching Speed</th>
          <th>Pitching Accuracy</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let player of playersByDivision[division]">
          <td>{{ player.first_name }} {{ player.last_name }}</td>
          <td>{{ player?.evaluation?.hitting_power || 'N/A' }}</td>
          <td>{{ player?.evaluation?.hitting_contact || 'N/A' }}</td>
          <td>{{ player?.evaluation?.fielding_form || 'N/A' }}</td>
          <td>{{ player?.evaluation?.fielding_glove || 'N/A' }}</td>
          <td>{{ player?.evaluation?.fielding_hustle || 'N/A' }}</td>
          <td>{{ player?.evaluation?.throwing_form || 'N/A' }}</td>
          <td>{{ player?.evaluation?.throwing_accuracy || 'N/A' }}</td>
          <td>{{ player?.evaluation?.throwing_speed || 'N/A' }}</td>
          <td>{{ player?.evaluation?.pitching_speed || 'N/A' }}</td>
          <td>{{ player?.evaluation?.pitching_accuracy || 'N/A' }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="!playersByDivision[division] || playersByDivision[division].length === 0">
    <p>No players found in this division.</p>
  </div>

  <hr> <!-- Add a separator between division tables -->
</div>